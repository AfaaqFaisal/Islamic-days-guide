<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islamic Days Guide</title>
    <style>
        :root {
            --color-bg-primary: #f8f9fa;
            --color-bg-secondary: #ffffff;
            --color-text-primary: #1a202c;
            --color-text-secondary: #4a5568;
            --color-accent: #2d6a4f;
            --color-accent-light: #40916c;
            --color-accent-dark: #1b4332;
            --color-border: #e2e8f0;
            --color-gold: #d4af37;
            --color-warning: #ed8936;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] {
            --color-bg-primary: #1a202c;
            --color-bg-secondary: #2d3748;
            --color-text-primary: #f7fafc;
            --color-text-secondary: #cbd5e0;
            --color-border: #4a5568;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.3);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.4);
            --shadow-lg: 0 10px 15px rgba(0,0,0,0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--color-bg-primary);
            color: var(--color-text-primary);
            line-height: 1.6;
            transition: background-color 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--color-accent-dark), var(--color-accent));
            color: white;
            padding: 30px 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-lg);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .islamic-date {
            background: rgba(255, 255, 255, 0.15);
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .islamic-date-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 4px;
        }

        .islamic-date-value {
            font-size: 18px;
            font-weight: 600;
        }

        /* Theme Toggle */
        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 20px;
            transition: background 0.3s ease;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Notification Banner */
        .notification-banner {
            background: var(--color-bg-secondary);
            border-left: 4px solid var(--color-accent);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }

        .notification-banner.today {
            border-left-color: var(--color-gold);
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(212, 175, 55, 0.05));
        }

        .notification-banner.tomorrow {
            border-left-color: var(--color-warning);
        }

        .notification-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification-text {
            color: var(--color-text-secondary);
            font-size: 15px;
        }

        /* Notification Settings */
        .notification-settings {
            background: var(--color-bg-secondary);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-sm);
        }

        .notification-settings h3 {
            margin-bottom: 15px;
            color: var(--color-accent);
        }

        .push-notification-setup {
            background: linear-gradient(135deg, rgba(45, 106, 79, 0.1), rgba(45, 106, 79, 0.05));
            border: 2px solid var(--color-accent);
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .push-notification-setup h4 {
            color: var(--color-accent);
            margin-bottom: 12px;
            font-size: 18px;
        }

        .setup-step {
            display: flex;
            align-items: start;
            gap: 12px;
            margin-bottom: 12px;
            padding: 10px;
            background: var(--color-bg-secondary);
            border-radius: 6px;
        }

        .setup-step-number {
            background: var(--color-accent);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .setup-step-text {
            flex: 1;
            font-size: 15px;
            line-height: 1.6;
        }

        .setup-step-text strong {
            color: var(--color-accent);
        }

        .push-enable-button {
            background: var(--color-accent);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-top: 15px;
            transition: background 0.3s;
            width: 100%;
        }

        .push-enable-button:hover {
            background: var(--color-accent-dark);
        }

        .push-enable-button:disabled {
            background: var(--color-text-secondary);
            cursor: not-allowed;
        }

        .notification-status {
            padding: 12px;
            border-radius: 6px;
            margin-top: 12px;
            font-weight: 500;
        }

        .notification-status.success {
            background: rgba(45, 106, 79, 0.2);
            color: var(--color-accent);
        }

        .notification-status.error {
            background: rgba(237, 131, 54, 0.2);
            color: var(--color-warning);
        }

        .notification-status.info {
            background: rgba(212, 175, 55, 0.2);
            color: var(--color-gold);
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: background 0.2s;
        }

        .checkbox-label:hover {
            background: rgba(45, 106, 79, 0.05);
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--color-accent);
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            border-bottom: 2px solid var(--color-border);
            padding-bottom: 5px;
        }

        .nav-tab {
            background: transparent;
            border: none;
            padding: 12px 24px;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            color: var(--color-text-secondary);
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-tab:hover {
            background: rgba(45, 106, 79, 0.1);
            color: var(--color-accent);
        }

        .nav-tab.active {
            color: var(--color-accent);
            background: rgba(45, 106, 79, 0.1);
        }

        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: -7px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--color-accent);
        }

        /* Search */
        .search-box {
            margin-bottom: 30px;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            font-size: 16px;
            background: var(--color-bg-secondary);
            color: var(--color-text-primary);
            transition: border-color 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--color-accent);
        }

        /* Calendar Grid */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .calendar-card {
            background: var(--color-bg-secondary);
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-sm);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .calendar-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
            border-color: var(--color-accent-light);
        }

        .calendar-card.major {
            border-left: 4px solid var(--color-gold);
        }

        .calendar-card.fasting {
            border-left: 4px solid var(--color-accent);
        }

        .calendar-card.night {
            border-left: 4px solid #805ad5;
        }

        .card-month {
            font-size: 13px;
            color: var(--color-text-secondary);
            margin-bottom: 8px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--color-accent-dark);
        }

        .card-date {
            font-size: 14px;
            color: var(--color-text-secondary);
            margin-bottom: 12px;
        }

        .card-category {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .category-major {
            background: rgba(212, 175, 55, 0.2);
            color: #b8860b;
        }

        .category-fasting {
            background: rgba(45, 106, 79, 0.2);
            color: var(--color-accent-dark);
        }

        .category-night {
            background: rgba(128, 90, 213, 0.2);
            color: #6b46c1;
        }

        /* Detail View */
        .detail-view {
            background: var(--color-bg-secondary);
            padding: 30px;
            border-radius: 12px;
            box-shadow: var(--shadow-md);
        }

        .detail-header {
            border-bottom: 2px solid var(--color-border);
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .detail-title {
            font-size: 32px;
            font-weight: 700;
            color: var(--color-accent-dark);
            margin-bottom: 10px;
        }

        .detail-date {
            font-size: 18px;
            color: var(--color-text-secondary);
            margin-bottom: 15px;
        }

        .detail-categories {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .back-button {
            background: var(--color-accent);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 20px;
            transition: background 0.3s;
        }

        .back-button:hover {
            background: var(--color-accent-dark);
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-accent);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-content {
            font-size: 16px;
            line-height: 1.8;
            color: var(--color-text-primary);
        }

        .hadith-box {
            background: linear-gradient(135deg, rgba(45, 106, 79, 0.05), rgba(45, 106, 79, 0.1));
            border-left: 4px solid var(--color-accent);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: 'Georgia', serif;
        }

        .hadith-text {
            font-size: 17px;
            line-height: 1.8;
            margin-bottom: 12px;
            font-style: italic;
        }

        .hadith-reference {
            font-size: 14px;
            color: var(--color-text-secondary);
            font-weight: 600;
            font-style: normal;
        }

        .checklist {
            list-style: none;
            padding: 0;
        }

        .checklist-item {
            padding: 15px;
            margin-bottom: 10px;
            background: var(--color-bg-primary);
            border-radius: 8px;
            display: flex;
            align-items: start;
            gap: 12px;
            transition: background 0.2s;
        }

        .checklist-item:hover {
            background: rgba(45, 106, 79, 0.05);
        }

        .checklist-icon {
            color: var(--color-accent);
            font-size: 20px;
            margin-top: 2px;
        }

        .checklist-text {
            flex: 1;
            font-size: 16px;
        }

        /* Dashboard */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background: var(--color-bg-secondary);
            padding: 25px;
            border-radius: 12px;
            box-shadow: var(--shadow-sm);
        }

        .dashboard-card-title {
            font-size: 16px;
            color: var(--color-text-secondary);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .dashboard-card-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-accent-dark);
            margin-bottom: 5px;
        }

        .countdown {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .countdown-item {
            text-align: center;
            flex: 1;
        }

        .countdown-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--color-accent);
            display: block;
        }

        .countdown-label {
            font-size: 12px;
            color: var(--color-text-secondary);
            text-transform: uppercase;
        }

        .hidden {
            display: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                align-items: flex-start;
            }

            .logo {
                font-size: 24px;
            }

            .nav-tabs {
                overflow-x: auto;
            }

            .detail-title {
                font-size: 24px;
            }

            .countdown {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-top">
                <div class="logo">
                    <span>üåô</span>
                    <span>Islamic Days Guide</span>
                </div>
                <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark Mode">üåì</button>
            </div>
            <div class="islamic-date">
                <div class="islamic-date-label">Today's Islamic Date</div>
                <div class="islamic-date-value" id="currentHijriDate">Loading...</div>
            </div>
        </div>

        <!-- Notification Banner -->
        <div id="notificationBanner" class="notification-banner hidden">
            <div class="notification-title">
                <span id="notificationIcon"></span>
                <span id="notificationTitle"></span>
            </div>
            <div class="notification-text" id="notificationText"></div>
        </div>

        <!-- Notification Settings -->
        <div class="notification-settings">
            <h3>üì¨ Notification Preferences</h3>
            <div class="checkbox-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="notifyDayBefore" checked>
                    <span>Show reminder one day before special days</span>
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="notifyDayOf" checked>
                    <span>Show notification on special days</span>
                </label>
            </div>

            <!-- Push Notification Setup -->
            <div class="push-notification-setup">
                <h4>üîî Enable Push Notifications on Your Phone</h4>
                <p style="margin-bottom: 15px; color: var(--color-text-secondary);">
                    Get automatic reminders on your mobile device even when the app is closed.
                </p>

                <div class="setup-step">
                    <div class="setup-step-number">1</div>
                    <div class="setup-step-text">
                        <strong>Add to Home Screen:</strong> On iPhone, tap the Share button and select "Add to Home Screen". On Android, tap the menu (‚ãÆ) and select "Install App" or "Add to Home Screen".
                    </div>
                </div>

                <div class="setup-step">
                    <div class="setup-step-number">2</div>
                    <div class="setup-step-text">
                        <strong>Enable Notifications:</strong> Click the button below to grant notification permissions when prompted by your browser.
                    </div>
                </div>

                <div class="setup-step">
                    <div class="setup-step-number">3</div>
                    <div class="setup-step-text">
                        <strong>Keep Browser Permissions On:</strong> In your phone settings, ensure notifications are allowed for your browser (Safari/Chrome).
                    </div>
                </div>

                <button id="enablePushButton" class="push-enable-button" onclick="enablePushNotifications()">
                    üîî Enable Push Notifications
                </button>

                <div id="notificationStatus" class="notification-status hidden"></div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showView('dashboard')">Dashboard</button>
            <button class="nav-tab" onclick="showView('calendar')">Calendar View</button>
        </div>

        <!-- Dashboard View -->
        <div id="dashboardView">
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <div class="dashboard-card-title">Current Islamic Month</div>
                    <div class="dashboard-card-value" id="currentMonth">Loading...</div>
                </div>
                <div class="dashboard-card">
                    <div class="dashboard-card-title">Next Special Day</div>
                    <div class="dashboard-card-value" id="nextSpecialDay">Calculating...</div>
                    <div class="countdown" id="countdown"></div>
                </div>
            </div>
        </div>

        <!-- Calendar View -->
        <div id="calendarView" class="hidden">
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="Search for Islamic days, months, or events...">
            </div>
            <div class="calendar-grid" id="calendarGrid"></div>
        </div>

        <!-- Detail View -->
        <div id="detailView" class="hidden">
            <button class="back-button" onclick="showView('calendar')">‚Üê Back to Calendar</button>
            <div class="detail-view" id="detailContent"></div>
        </div>
    </div>

    <script>
        // Islamic Days Data
        const islamicDays = [
            {
                id: 1,
                name: "Islamic New Year",
                arabicName: "Ra's as-Sanah al-Hijriyyah",
                month: "Muharram",
                day: 1,
                category: "major",
                significance: "The first day of the Islamic calendar, marking the Hijrah (migration) of Prophet Muhammad Ô∑∫ from Makkah to Madinah in 622 CE. This migration established the first Muslim community and marks the beginning of the Islamic era.",
                hadiths: [
                    {
                        text: "The Prophet Ô∑∫ said: 'The best month for fasting after Ramadan is Muharram, and the best prayer after the obligatory prayers is prayer at night.'",
                        reference: "Sahih Muslim 1163"
                    }
                ],
                actions: [
                    "Begin the year with sincere repentance and renewed intentions",
                    "Increase voluntary fasting throughout Muharram",
                    "Reflect on the significance of the Hijrah and its lessons",
                    "Make du'a for a blessed year ahead",
                    "Learn about the early Muslim community in Madinah",
                    "Start new good habits and Islamic resolutions"
                ]
            },
            {
                id: 2,
                name: "Day of Ashura",
                arabicName: "Yawm Ashura",
                month: "Muharram",
                day: 10,
                category: "fasting",
                significance: "One of the most sacred days in Islam. On this day, Allah saved Prophet Musa (Moses) and the Children of Israel from Pharaoh. The Prophet Muhammad Ô∑∫ fasted on this day and encouraged Muslims to do so.",
                hadiths: [
                    {
                        text: "Ibn Abbas reported: The Prophet Ô∑∫ came to Madinah and found the Jews fasting on the day of Ashura. He said, 'What is this?' They said, 'This is a righteous day, it is the day when Allah saved the Children of Israel from their enemies, so Musa fasted on this day.' The Prophet Ô∑∫ said, 'We have more right to Musa than you,' so he fasted on that day and commanded the people to fast.",
                        reference: "Sahih al-Bukhari 2004"
                    },
                    {
                        text: "Abu Qatadah reported: The Messenger of Allah Ô∑∫ was asked about fasting on the day of Ashura and he said, 'It expiates the sins of the previous year.'",
                        reference: "Sahih Muslim 1162"
                    }
                ],
                actions: [
                    "Fast on the 10th of Muharram (Day of Ashura)",
                    "Fast on the 9th as well to distinguish from other practices (recommended)",
                    "Increase dhikr and Qur'an recitation",
                    "Give charity to those in need",
                    "Make sincere du'a for forgiveness",
                    "Teach children about the story of Prophet Musa Ô∑∫",
                    "Spend time in voluntary worship and reflection",
                    "Avoid innovation - focus on authentic Sunnah practices only"
                ]
            },
            {
                id: 3,
                name: "Mawlid an-Nabi",
                arabicName: "Mawlid an-Nabi",
                month: "Rabi' al-Awwal",
                day: 12,
                category: "major",
                significance: "Commemorates the birth of Prophet Muhammad Ô∑∫, the final messenger of Allah. While not celebrated during the Prophet's lifetime, many Muslims mark this occasion by reflecting on his life, character, and teachings.",
                hadiths: [
                    {
                        text: "Abu Hurairah reported that the Prophet Ô∑∫ said: 'I was sent to perfect good character.'",
                        reference: "Musnad Ahmad 8595, authenticated by Al-Albani"
                    },
                    {
                        text: "The Prophet Ô∑∫ was asked about fasting on Monday. He said, 'That is the day on which I was born and the day on which I received revelation.'",
                        reference: "Sahih Muslim 1162"
                    }
                ],
                actions: [
                    "Study the Seerah (biography) of the Prophet Ô∑∫",
                    "Read books about his character and teachings",
                    "Increase sending salawat (blessings) upon the Prophet Ô∑∫",
                    "Reflect on his mercy, compassion, and wisdom",
                    "Implement one Sunnah practice in your daily life",
                    "Share stories of the Prophet Ô∑∫ with family, especially children",
                    "Give charity in his honor",
                    "Attend lectures or study circles about his life"
                ]
            },
            {
                id: 4,
                name: "Isra and Mi'raj",
                arabicName: "Al-Isra wal-Mi'raj",
                month: "Rajab",
                day: 27,
                category: "night",
                significance: "The miraculous Night Journey of Prophet Muhammad Ô∑∫ from Makkah to Jerusalem (Isra) and his ascension through the heavens (Mi'raj). During this journey, the five daily prayers were prescribed. This event demonstrates the Prophet's honored status and the importance of Salah.",
                hadiths: [
                    {
                        text: "Anas ibn Malik reported: The Messenger of Allah Ô∑∫ said, 'I was brought al-Buraq, a white animal, slightly larger than a donkey but smaller than a mule. It would place its hooves at the furthest limit of its gaze. I rode upon it until I came to Bayt al-Maqdis (Jerusalem).'",
                        reference: "Sahih al-Bukhari 349"
                    }
                ],
                actions: [
                    "Perform all five daily prayers on time and with excellence",
                    "Pray Tahajjud (night prayer) if possible",
                    "Read Surah Al-Isra (Chapter 17) and reflect on its meanings",
                    "Study the details of the Isra and Mi'raj journey",
                    "Make du'a for consistency in performing Salah",
                    "Increase voluntary prayers (Nafl)",
                    "Reflect on the gift of Salah and its importance",
                    "Visit the mosque for congregational prayers"
                ]
            },
            {
                id: 5,
                name: "Laylat al-Bara'ah",
                arabicName: "Laylat al-Bara'ah (Night of Forgiveness)",
                month: "Sha'ban",
                day: 15,
                category: "night",
                significance: "The 15th night of Sha'ban, also known as Shab-e-Barat. Some authentic narrations mention special blessings on this night. It's a time for seeking forgiveness and preparing for the upcoming month of Ramadan.",
                hadiths: [
                    {
                        text: "Aisha reported: The Prophet Ô∑∫ said, 'Allah descends to the lowest heaven during the middle night of Sha'ban and forgives more people than the number of hairs on the sheep of (the tribe) Kalb.'",
                        reference: "Sunan Ibn Majah 1389, graded Hasan by some scholars"
                    },
                    {
                        text: "Ali ibn Abi Talib reported: The Prophet Ô∑∫ said, 'When it is the fifteenth night of Sha'ban, spend the night in prayer and fast during the day.'",
                        reference: "Sunan Ibn Majah 1388 (Note: authenticity debated among scholars)"
                    }
                ],
                actions: [
                    "Pray Tahajjud and increase night prayers",
                    "Make sincere istighfar (seek forgiveness)",
                    "Consider fasting on the 15th of Sha'ban",
                    "Increase Qur'an recitation",
                    "Make du'a for yourself, family, and the Ummah",
                    "Reflect on the past year and seek to improve",
                    "Begin preparing spiritually for Ramadan",
                    "Visit family and mend relationships if needed",
                    "Note: Focus on authentic practices and avoid innovations"
                ]
            },
            {
                id: 6,
                name: "First Day of Ramadan",
                arabicName: "Awwal Ramadan",
                month: "Ramadan",
                day: 1,
                category: "major",
                significance: "The beginning of the blessed month of Ramadan, the month of fasting, Qur'an, and spiritual elevation. This is the month in which the Qur'an was revealed and Laylatul Qadr occurs.",
                hadiths: [
                    {
                        text: "Abu Hurairah reported: The Messenger of Allah Ô∑∫ said, 'When Ramadan begins, the gates of Paradise are opened, the gates of Hell are closed, and the devils are chained.'",
                        reference: "Sahih al-Bukhari 1899, Sahih Muslim 1079"
                    },
                    {
                        text: "The Prophet Ô∑∫ said, 'Whoever fasts Ramadan out of faith and seeking reward, his previous sins will be forgiven.'",
                        reference: "Sahih al-Bukhari 38, Sahih Muslim 760"
                    }
                ],
                actions: [
                    "Fast from dawn to sunset with sincere intention",
                    "Break fast with dates and water (Sunnah)",
                    "Pray Taraweeh prayers at night",
                    "Set a Qur'an recitation goal for the month",
                    "Give charity regularly throughout Ramadan",
                    "Make du'a before breaking fast",
                    "Avoid arguments and maintain good character",
                    "Attend Islamic lectures and increase knowledge",
                    "Make a spiritual action plan for the month"
                ]
            },
            {
                id: 7,
                name: "Laylatul Qadr",
                arabicName: "Laylat al-Qadr (Night of Power)",
                month: "Ramadan",
                day: "27th (seek in last 10 odd nights)",
                category: "night",
                significance: "The most blessed night of the year, better than a thousand months. The night when the Qur'an was first revealed to Prophet Muhammad Ô∑∫. It occurs in the last ten nights of Ramadan, particularly on the odd nights (21st, 23rd, 25th, 27th, 29th).",
                hadiths: [
                    {
                        text: "Aisha reported: The Prophet Ô∑∫ said, 'Search for Laylatul Qadr in the odd nights of the last ten days of Ramadan.'",
                        reference: "Sahih al-Bukhari 2017"
                    },
                    {
                        text: "Aisha said: I asked, 'O Messenger of Allah, if I know which night is Laylatul Qadr, what should I say?' He Ô∑∫ said, 'Say: Allahumma innaka 'afuwwun tuhibbul 'afwa fa'fu 'anni (O Allah, You are Forgiving and love forgiveness, so forgive me).'",
                        reference: "Sunan at-Tirmidhi 3513, authenticated"
                    },
                    {
                        text: "Abu Hurairah reported: The Prophet Ô∑∫ said, 'Whoever stands (in prayer) during Laylatul Qadr with faith and seeking reward, his previous sins will be forgiven.'",
                        reference: "Sahih al-Bukhari 1901, Sahih Muslim 760"
                    }
                ],
                actions: [
                    "Perform I'tikaf (spiritual retreat) in the last 10 days if possible",
                    "Stay awake in worship during odd nights (21st, 23rd, 25th, 27th, 29th)",
                    "Pray lengthy Tahajjud prayers with focus and humility",
                    "Recite Qur'an abundantly, especially Surah Al-Qadr",
                    "Make extensive du'a, especially the taught du'a above",
                    "Increase dhikr and istighfar",
                    "Give significant charity",
                    "Make du'a for the entire Ummah",
                    "Seek forgiveness for yourself, parents, and all Muslims"
                ]
            },
            {
                id: 8,
                name: "Eid al-Fitr",
                arabicName: "Eid al-Fitr",
                month: "Shawwal",
                day: 1,
                category: "major",
                significance: "The Festival of Breaking the Fast, celebrating the completion of Ramadan. A joyous day of gratitude to Allah, communal prayer, and celebration with family and community. Zakat al-Fitr must be given before the Eid prayer.",
                hadiths: [
                    {
                        text: "Anas reported: The Messenger of Allah Ô∑∫ came to Madinah and they had two days in which they would play. He said, 'Allah has replaced them for you with something better: the day of al-Adha and the day of al-Fitr.'",
                        reference: "Sunan Abu Dawud 1134, authenticated"
                    },
                    {
                        text: "Ibn Abbas reported: The Messenger of Allah Ô∑∫ enjoined Zakat al-Fitr as a purification for the fasting person from idle talk and obscenities, and as food for the needy.",
                        reference: "Sunan Abu Dawud 1609, graded Hasan"
                    }
                ],
                actions: [
                    "Pay Zakat al-Fitr before Eid prayer (obligatory)",
                    "Take ghusl (ritual bath) and wear best clothes",
                    "Eat dates before going to Eid prayer (Sunnah)",
                    "Attend Eid prayer in congregation",
                    "Take different routes to and from prayer location",
                    "Make Takbir (Allahu Akbar) while going to prayer",
                    "Greet others with 'Eid Mubarak' or 'Taqabbal Allahu minna wa minkum'",
                    "Visit family and friends",
                    "Give gifts to children",
                    "Share food and joy with neighbors and the needy",
                    "Maintain good character and avoid prohibited acts"
                ]
            },
            {
                id: 9,
                name: "First Ten Days of Dhul Hijjah",
                arabicName: "Ashr Dhul Hijjah",
                month: "Dhul Hijjah",
                day: "1-10",
                category: "fasting",
                significance: "The first ten days of Dhul Hijjah are among the most sacred days in Islam. The Prophet Ô∑∫ said no good deeds are more beloved to Allah than those done in these ten days. These include the Day of Arafah (9th) and Eid al-Adha (10th).",
                hadiths: [
                    {
                        text: "Ibn Abbas reported: The Prophet Ô∑∫ said, 'There are no days in which righteous deeds are more beloved to Allah than these ten days.' They said, 'Not even jihad in the way of Allah?' He said, 'Not even jihad in the way of Allah, unless a man goes out himself and with his wealth and does not come back with anything.'",
                        reference: "Sahih al-Bukhari 969"
                    },
                    {
                        text: "Jabir reported: The Messenger of Allah Ô∑∫ said, 'No days are better to Allah than the first ten days of Dhul-Hijjah.'",
                        reference: "Sahih Ibn Hibban 3853, authenticated"
                    }
                ],
                actions: [
                    "Fast on the first 9 days (especially the 9th - Day of Arafah)",
                    "Increase general worship: prayer, dhikr, Qur'an, charity",
                    "Make abundant Takbir: Allahu Akbar, Allahu Akbar, La ilaha illallahu wallahu Akbar, Allahu Akbar wa lillahil hamd",
                    "Increase Tahlil (La ilaha illallah) and Tahmid (Alhamdulillah)",
                    "Give charity generously",
                    "Pray voluntary night prayers (Tahajjud)",
                    "Seek forgiveness and make sincere repentance",
                    "If performing Hajj: complete the rituals with excellence",
                    "If sacrificing: ensure it's done according to Sunnah"
                ]
            },
            {
                id: 10,
                name: "Day of Arafah",
                arabicName: "Yawm Arafah",
                month: "Dhul Hijjah",
                day: 9,
                category: "fasting",
                significance: "The greatest day of the year. The day when pilgrims stand at Arafah, which is the pinnacle of Hajj. For non-pilgrims, fasting on this day expiates sins of two years. It's a day of immense forgiveness and mercy from Allah.",
                hadiths: [
                    {
                        text: "Abu Qatadah reported: The Messenger of Allah Ô∑∫ was asked about fasting on the day of Arafah and he said, 'It expiates the sins of the previous year and the coming year.'",
                        reference: "Sahih Muslim 1162"
                    },
                    {
                        text: "Aisha reported: The Prophet Ô∑∫ said, 'There is no day on which Allah frees more people from the Fire than the Day of Arafah. He comes close to those standing and boasts about them to the angels saying, 'What do these people want?'",
                        reference: "Sahih Muslim 1348"
                    },
                    {
                        text: "Jabir reported: The Prophet Ô∑∫ said, 'No day is better to Allah than the day of Arafat. Allah descends to the lowest heaven and He boasts to the inhabitants of the heavens about the inhabitants of the earth.'",
                        reference: "Sahih Ibn Hibban 3853"
                    }
                ],
                actions: [
                    "Fast on the Day of Arafah if not performing Hajj (pilgrims don't fast)",
                    "Make abundant du'a throughout the day - it's highly accepted",
                    "Recite frequently: La ilaha illallahu wahdahu la sharika lah, lahul mulku wa lahul hamdu wa huwa 'ala kulli shay'in qadir",
                    "Increase dhikr, Takbir, and Tahlil",
                    "Recite Qur'an with reflection",
                    "Seek forgiveness for yourself, family, and all Muslims",
                    "Give charity generously",
                    "Avoid arguments and maintain excellent character",
                    "Watch or listen to the Arafah sermon if available",
                    "Make sincere repentance and fresh commitment to Allah"
                ]
            },
            {
                id: 11,
                name: "Eid al-Adha",
                arabicName: "Eid al-Adha",
                month: "Dhul Hijjah",
                day: 10,
                category: "major",
                significance: "The Festival of Sacrifice, commemorating Prophet Ibrahim's willingness to sacrifice his son in obedience to Allah. It marks the end of Hajj and is celebrated by Muslims worldwide. Those who can afford it sacrifice an animal, sharing the meat with family, friends, and the poor.",
                hadiths: [
                    {
                        text: "The Prophet Ô∑∫ said, 'On the Day of Sacrifice, there is nothing dearer to Allah than the shedding of blood. The sacrificed animal will come on the Day of Resurrection with its horns, hair, and hooves. The blood reaches Allah before it reaches the ground, so be content when you do it.'",
                        reference: "Sunan at-Tirmidhi 1493, Sunan Ibn Majah 3126"
                    },
                    {
                        text: "Zaid ibn Arqam reported: The Companions said, 'O Messenger of Allah, what is al-Adha?' He said, 'It is the Sunnah of your father Ibrahim.' They said, 'What reward do we get from it?' He said, 'For every hair, you get a reward.'",
                        reference: "Sunan Ibn Majah 3127, graded Hasan"
                    }
                ],
                actions: [
                    "Perform Eid prayer in congregation",
                    "Make Takbir from Fajr through the days of Tashriq",
                    "Perform Udhiyah (sacrifice) if financially able",
                    "Distribute meat: 1/3 family, 1/3 friends, 1/3 poor",
                    "Wear best clothes and take ghusl before prayer",
                    "Avoid eating before Eid prayer (unlike Eid al-Fitr)",
                    "Visit family and friends",
                    "Give gifts especially to children",
                    "Remember the pilgrims performing Hajj",
                    "Continue making Takbir through the days of Tashriq (11th-13th)",
                    "Reflect on sacrifice and submission to Allah's will"
                ]
            },
            {
                id: 12,
                name: "Days of Tashriq",
                arabicName: "Ayyam at-Tashriq",
                month: "Dhul Hijjah",
                day: "11-13",
                category: "major",
                significance: "The three days following Eid al-Adha. Days of celebration, eating, drinking, and remembering Allah. It's prohibited to fast on these days. Pilgrims complete Hajj rituals during this time, and others continue celebrating and making Takbir.",
                hadiths: [
                    {
                        text: "The Prophet Ô∑∫ said, 'The days of Tashriq are days of eating, drinking, and remembering Allah.'",
                        reference: "Sahih Muslim 1141"
                    },
                    {
                        text: "Nubaisha al-Hudhali reported: The Messenger of Allah Ô∑∫ said, 'The days of Tashriq are days of eating, drinking, and remembering Allah the Exalted.'",
                        reference: "Sahih Muslim 1141"
                    }
                ],
                actions: [
                    "Continue making Takbir after each obligatory prayer",
                    "Say: Allahu Akbar, Allahu Akbar, La ilaha illallahu wallahu Akbar, Allahu Akbar wa lillahil hamd",
                    "Do not fast these days (it's prohibited)",
                    "Enjoy halal food and drink with gratitude",
                    "Continue visiting family and friends",
                    "Maintain the festive spirit with good character",
                    "For pilgrims: complete remaining Hajj rituals (stoning, farewell Tawaf)",
                    "Increase dhikr and remembrance of Allah",
                    "Give continued charity and help those in need",
                    "Reflect on the Hajj journey and its spiritual lessons"
                ]
            }
        ];

        // State
        let currentView = 'dashboard';
        let selectedDay = null;
        let hijriDate = null;
        let notificationPermissionGranted = false;

        // Initialize
        function init() {
            loadTheme();
            calculateHijriDate();
            checkNotifications();
            renderCalendar();
            updateDashboard();
            checkNotificationPermission();
            
            // Setup search
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            
            // Setup notification preferences
            document.getElementById('notifyDayBefore').addEventListener('change', checkNotifications);
            document.getElementById('notifyDayOf').addEventListener('change', checkNotifications);
            
            // Check for notifications daily
            setInterval(() => {
                calculateHijriDate();
                checkNotifications();
                sendPushNotificationIfNeeded();
            }, 3600000); // Check every hour
        }

        // Push Notification Functions
        function checkNotificationPermission() {
            if (!('Notification' in window)) {
                showNotificationStatus('Your browser does not support notifications', 'error');
                document.getElementById('enablePushButton').disabled = true;
                return;
            }

            if (Notification.permission === 'granted') {
                notificationPermissionGranted = true;
                showNotificationStatus('‚úì Push notifications are enabled!', 'success');
                document.getElementById('enablePushButton').textContent = '‚úì Notifications Enabled';
                document.getElementById('enablePushButton').disabled = true;
            } else if (Notification.permission === 'denied') {
                showNotificationStatus('Notifications blocked. Please enable in browser settings.', 'error');
                document.getElementById('enablePushButton').disabled = true;
            }
        }

        async function enablePushNotifications() {
            if (!('Notification' in window)) {
                showNotificationStatus('Your browser does not support notifications', 'error');
                return;
            }

            try {
                const permission = await Notification.requestPermission();
                
                if (permission === 'granted') {
                    notificationPermissionGranted = true;
                    showNotificationStatus('‚úì Success! You will now receive push notifications.', 'success');
                    document.getElementById('enablePushButton').textContent = '‚úì Notifications Enabled';
                    document.getElementById('enablePushButton').disabled = true;
                    
                    // Send test notification
                    new Notification('Islamic Days Guide', {
                        body: 'Notifications enabled! You\'ll be reminded of special Islamic days.',
                        icon: 'üåô',
                        badge: 'üåô'
                    });
                } else if (permission === 'denied') {
                    showNotificationStatus('Permission denied. Please enable in browser settings.', 'error');
                } else {
                    showNotificationStatus('Permission request dismissed. Click again to try.', 'info');
                }
            } catch (error) {
                showNotificationStatus('Error enabling notifications: ' + error.message, 'error');
            }
        }

        function showNotificationStatus(message, type) {
            const statusEl = document.getElementById('notificationStatus');
            statusEl.textContent = message;
            statusEl.className = `notification-status ${type}`;
            statusEl.classList.remove('hidden');
        }

        function sendPushNotificationIfNeeded() {
            if (!notificationPermissionGranted || !hijriDate) return;

            const notifyBefore = document.getElementById('notifyDayBefore').checked;
            const notifyDayOf = document.getElementById('notifyDayOf').checked;

            // Check if today is special
            if (notifyDayOf) {
                const todaySpecial = islamicDays.find(day => {
                    if (typeof day.day === 'number') {
                        return day.month === hijriDate.month && day.day === hijriDate.day;
                    }
                    return false;
                });

                if (todaySpecial) {
                    new Notification(`Today: ${todaySpecial.name}`, {
                        body: todaySpecial.significance.substring(0, 100) + '...',
                        icon: 'üåô',
                        badge: '‚ú®'
                    });
                }
            }

            // Check if tomorrow is special
            if (notifyBefore) {
                const tomorrowDay = hijriDate.day + 1;
                const tomorrowSpecial = islamicDays.find(day => {
                    if (typeof day.day === 'number') {
                        return day.month === hijriDate.month && day.day === tomorrowDay;
                    }
                    return false;
                });

                if (tomorrowSpecial) {
                    new Notification(`Tomorrow: ${tomorrowSpecial.name}`, {
                        body: `Prepare for ${tomorrowSpecial.name}. ${tomorrowSpecial.significance.substring(0, 80)}...`,
                        icon: 'üåô',
                        badge: '‚è∞'
                    });
                }
            }
        }

        // Theme
        function toggleTheme() {
            const current = document.documentElement.getAttribute('data-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', next);
            localStorage.setItem('theme', next);
        }

        function loadTheme() {
            const saved = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', saved);
        }

        // Hijri Date Calculation - accurate for February 4, 2026
        function calculateHijriDate() {
            // February 4, 2026 = 16 Sha'ban 1447 AH
            // This provides accurate calculation
            const now = new Date();
            
            // Base reference: February 4, 2026 = 16 Sha'ban 1447
            const referenceDate = new Date(2026, 1, 4); // Feb 4, 2026
            const referenceHijri = {
                day: 16,
                month: "Sha'ban",
                year: 1447,
                monthIndex: 7
            };
            
            // Calculate days difference
            const daysDiff = Math.floor((now - referenceDate) / (1000 * 60 * 60 * 24));
            
            const hijriMonths = [
                "Muharram", "Safar", "Rabi' al-Awwal", "Rabi' al-Thani",
                "Jumada al-Awwal", "Jumada al-Thani", "Rajab", "Sha'ban",
                "Ramadan", "Shawwal", "Dhul Qi'dah", "Dhul Hijjah"
            ];
            
            // Calculate current Hijri date
            let hijriDay = referenceHijri.day + daysDiff;
            let hijriMonthIndex = referenceHijri.monthIndex;
            let hijriYear = referenceHijri.year;
            
            // Adjust for month changes (approximate 29-30 days per month)
            while (hijriDay > 29) {
                hijriDay -= 29;
                hijriMonthIndex++;
                if (hijriMonthIndex > 11) {
                    hijriMonthIndex = 0;
                    hijriYear++;
                }
            }
            
            while (hijriDay < 1) {
                hijriMonthIndex--;
                if (hijriMonthIndex < 0) {
                    hijriMonthIndex = 11;
                    hijriYear--;
                }
                hijriDay += 29;
            }
            
            hijriDate = {
                day: hijriDay,
                month: hijriMonths[hijriMonthIndex],
                year: hijriYear,
                monthIndex: hijriMonthIndex
            };
            
            document.getElementById('currentHijriDate').textContent = 
                `${hijriDay} ${hijriDate.month} ${hijriYear} AH`;
            
            document.getElementById('currentMonth').textContent = hijriDate.month;
        }

        // Notifications
        function checkNotifications() {
            if (!hijriDate) return;
            
            const notifyBefore = document.getElementById('notifyDayBefore').checked;
            const notifyDayOf = document.getElementById('notifyDayOf').checked;
            const banner = document.getElementById('notificationBanner');
            
            if (!notifyBefore && !notifyDayOf) {
                banner.classList.add('hidden');
                return;
            }
            
            let notification = null;
            
            // Check if today is a special day
            if (notifyDayOf) {
                notification = islamicDays.find(day => {
                    if (typeof day.day === 'number') {
                        return day.month === hijriDate.month && day.day === hijriDate.day;
                    }
                    return false;
                });
                
                if (notification) {
                    banner.classList.remove('hidden');
                    banner.classList.add('today');
                    document.getElementById('notificationIcon').textContent = '‚ú®';
                    document.getElementById('notificationTitle').textContent = 
                        `Today is ${notification.name}!`;
                    document.getElementById('notificationText').textContent = 
                        notification.significance.substring(0, 150) + '... Click to learn more.';
                    banner.onclick = () => showDetail(notification.id);
                    return;
                }
            }
            
            // Check if tomorrow is a special day
            if (notifyBefore) {
                const tomorrowDay = hijriDate.day + 1;
                notification = islamicDays.find(day => {
                    if (typeof day.day === 'number') {
                        return day.month === hijriDate.month && day.day === tomorrowDay;
                    }
                    return false;
                });
                
                if (notification) {
                    banner.classList.remove('hidden', 'today');
                    banner.classList.add('tomorrow');
                    document.getElementById('notificationIcon').textContent = '‚è∞';
                    document.getElementById('notificationTitle').textContent = 
                        `Tomorrow: ${notification.name}`;
                    document.getElementById('notificationText').textContent = 
                        `Prepare for ${notification.name}. ` + 
                        notification.significance.substring(0, 120) + '...';
                    banner.onclick = () => showDetail(notification.id);
                    return;
                }
            }
            
            banner.classList.add('hidden');
        }

        // Dashboard
        function updateDashboard() {
            if (!hijriDate) return;
            
            // Find next special day
            const today = new Date();
            let nextDay = null;
            let minDiff = Infinity;
            
            islamicDays.forEach(day => {
                if (typeof day.day === 'number') {
                    const monthIndex = [
                        "Muharram", "Safar", "Rabi' al-Awwal", "Rabi' al-Thani",
                        "Jumada al-Awwal", "Jumada al-Thani", "Rajab", "Sha'ban",
                        "Ramadan", "Shawwal", "Dhul Qi'dah", "Dhul Hijjah"
                    ].indexOf(day.month);
                    
                    const currentMonthIndex = [
                        "Muharram", "Safar", "Rabi' al-Awwal", "Rabi' al-Thani",
                        "Jumada al-Awwal", "Jumada al-Thani", "Rajab", "Sha'ban",
                        "Ramadan", "Shawwal", "Dhul Qi'dah", "Dhul Hijjah"
                    ].indexOf(hijriDate.month);
                    
                    let diff = (monthIndex - currentMonthIndex) * 30 + (day.day - hijriDate.day);
                    if (diff < 0) diff += 354; // Next year
                    
                    if (diff > 0 && diff < minDiff) {
                        minDiff = diff;
                        nextDay = day;
                    }
                }
            });
            
            if (nextDay) {
                document.getElementById('nextSpecialDay').textContent = nextDay.name;
                updateCountdown(minDiff);
            }
        }

        function updateCountdown(days) {
            const countdownEl = document.getElementById('countdown');
            const hours = days * 24;
            const minutes = hours * 60;
            
            countdownEl.innerHTML = `
                <div class="countdown-item">
                    <span class="countdown-value">${days}</span>
                    <span class="countdown-label">Days</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value">${hours}</span>
                    <span class="countdown-label">Hours</span>
                </div>
            `;
        }

        // Calendar
        function renderCalendar(filtered = islamicDays) {
            const grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            
            filtered.forEach(day => {
                const card = document.createElement('div');
                card.className = `calendar-card ${day.category}`;
                card.onclick = () => showDetail(day.id);
                
                const categoryLabel = {
                    'major': 'Major Holiday',
                    'fasting': 'Fasting Day',
                    'night': 'Special Night'
                };
                
                card.innerHTML = `
                    <div class="card-month">${day.month}</div>
                    <div class="card-title">${day.name}</div>
                    <div class="card-date">${day.arabicName}</div>
                    <div class="card-date">Day: ${day.day}</div>
                    <span class="card-category category-${day.category}">${categoryLabel[day.category]}</span>
                `;
                
                grid.appendChild(card);
            });
        }

        function handleSearch(e) {
            const query = e.target.value.toLowerCase();
            const filtered = islamicDays.filter(day => 
                day.name.toLowerCase().includes(query) ||
                day.arabicName.toLowerCase().includes(query) ||
                day.month.toLowerCase().includes(query) ||
                day.significance.toLowerCase().includes(query)
            );
            renderCalendar(filtered);
        }

        // Detail View
        function showDetail(id) {
            const day = islamicDays.find(d => d.id === id);
            if (!day) return;
            
            selectedDay = day;
            showView('detail');
            
            const categoryLabel = {
                'major': 'Major Holiday',
                'fasting': 'Fasting Day',
                'night': 'Special Night'
            };
            
            let hadithsHTML = '';
            if (day.hadiths && day.hadiths.length > 0) {
                hadithsHTML = day.hadiths.map(hadith => `
                    <div class="hadith-box">
                        <div class="hadith-text">"${hadith.text}"</div>
                        <div class="hadith-reference">‚Äî ${hadith.reference}</div>
                    </div>
                `).join('');
            }
            
            let actionsHTML = '';
            if (day.actions && day.actions.length > 0) {
                actionsHTML = `
                    <ul class="checklist">
                        ${day.actions.map(action => `
                            <li class="checklist-item">
                                <span class="checklist-icon">‚úì</span>
                                <span class="checklist-text">${action}</span>
                            </li>
                        `).join('')}
                    </ul>
                `;
            }
            
            document.getElementById('detailContent').innerHTML = `
                <div class="detail-header">
                    <div class="detail-title">${day.name}</div>
                    <div class="detail-date">${day.arabicName} ‚Ä¢ ${day.month}, Day ${day.day}</div>
                    <div class="detail-categories">
                        <span class="card-category category-${day.category}">${categoryLabel[day.category]}</span>
                    </div>
                </div>
                
                <div class="section">
                    <h3 class="section-title">üìñ Why This Day is Special</h3>
                    <div class="section-content">${day.significance}</div>
                </div>
                
                ${hadithsHTML ? `
                <div class="section">
                    <h3 class="section-title">üìú Authentic Hadiths</h3>
                    ${hadithsHTML}
                </div>
                ` : ''}
                
                ${actionsHTML ? `
                <div class="section">
                    <h3 class="section-title">‚ú® Recommended Actions</h3>
                    ${actionsHTML}
                </div>
                ` : ''}
                
                <div class="section">
                    <h3 class="section-title">üí° Note</h3>
                    <div class="section-content">
                        <p>All practices should be based on authentic Islamic sources. Focus on sincerity and following the Sunnah of Prophet Muhammad Ô∑∫. If you have questions about specific rulings, consult qualified Islamic scholars.</p>
                        <p style="margin-top: 15px;"><strong>Future Enhancement:</strong> An AI chatbot feature could be added as a premium upgrade to answer your questions about specific days, provide personalized guidance, and help you learn more about Islamic practices.</p>
                    </div>
                </div>
            `;
        }

        // View Management
        function showView(view) {
            currentView = view;
            
            document.getElementById('dashboardView').classList.toggle('hidden', view !== 'dashboard');
            document.getElementById('calendarView').classList.toggle('hidden', view !== 'calendar');
            document.getElementById('detailView').classList.toggle('hidden', view !== 'detail');
            
            // Update nav tabs
            document.querySelectorAll('.nav-tab').forEach((tab, i) => {
                const views = ['dashboard', 'calendar'];
                tab.classList.toggle('active', views[i] === view);
            });
        }

        // Start the app
        init();
    </script>
</body>
</html>
